---
let res2 = await fetch("https://freetestapi.com/api/v1/posts");
let fakePost = await res2.json();
let rand = Math.floor(Math.random() * fakePost.length) <= 8;
let fakePosts = rand ? await fakePost.slice(0, rand) : await fakePost.slice(0, 3);

---

<div class="w-3/4 mx-auto mb-5">
    <h3 class="text-2xl font-bold border-btm mb-4">Related Article</h3>
    <div class="grid grid-cols-3 gap-3">
        {fakePosts.map(p => (
            <a href={`/posts/${p.id}`} class="border-2">                
                <div class="p-4">
                    <h3 class="text-2xl mb-1 font-bold">{p.title}</h3>
                    <h3 class="text-lg text-indigo-500 mb-1 font-mono font-semibold">{p.author}</h3>
                    <p class="text-gray-500 mb-4">{p.timestamp.toString().slice(0,10)}</p>
                </div>
            </a>
        ))}
    </div>
</div>