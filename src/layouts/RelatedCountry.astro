---

let res = await fetch(`https://freetestapi.com/api/v1/countries`)
let post = await res.json();
let rand = Math.floor(Math.random() * post.length) <= 8;
let posts = rand ? await post.slice(0, rand) : await post.slice(0, 3);

---

<div class="w-3/4 mx-auto mb-5">
    <h3 class="text-2xl font-bold border-btm mb-4">Related Article</h3>
    <div class="grid grid-cols-3 gap-3">
        {posts.map(p => (
            <a href={`/destinations/${p.id}`} class="border-2">
                <img class="related-img" src={p.flag} />
                    <div class="p-4">
                        <h3 class="text-2xl mb-1 font-bold">{p.name}</h3>
                        <p class="text-gray-500 mb-4">{p.capital}</p>
                    </div>
            </a>
        ))}
    </div>
</div>